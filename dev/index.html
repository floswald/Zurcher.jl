<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Zurcher.jl · Zurcher.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Zurcher.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Zurcher.jl</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Zurcher.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Zurcher.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/floswald/Zurcher.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Zurcher.jl"><a class="docs-heading-anchor" href="#Zurcher.jl">Zurcher.jl</a><a id="Zurcher.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Zurcher.jl" title="Permalink"></a></h1><ul><li>This is a teaching-oriented package for the Bus Engine Replacement Model after Rust (1987) used for my <a href="https://floswald.github.io/NumericalMethods/">Computational Econ Course</a></li><li>We implement both <em>naive</em> nfxp and mpec estimation. It is <em>naive</em> nfxp because it uses standard VFI instead of the much more performant polyalgorithm developed by Rust in his paper. For a thorough benchmarking exercise I refer to <ol><li>ECTA Comment by <a href="https://www.econometricsociety.org/publications/econometrica/2016/01/01/comment-“constrained-optimization-approaches-estimation">Fedor Iskhakov, Jinhyuk Lee, John Rust, Bertel Schjerning, Kyoungwon Seo</a></li><li>Matlab implementation which includes the polyalgorithm and analytic derivatives for likelihood function distributed as part of the <a href="https://github.com/dseconf/DSE2019/tree/master/02_DDC_SchjerningIskhakov/code/zurcher">DSE2019</a> summer school. Several parts of my code have been copied and modified from that code base.</li></ol></li></ul><h3 id="What-is-the-point-of-this-package?"><a class="docs-heading-anchor" href="#What-is-the-point-of-this-package?">What is the point of this package?</a><a id="What-is-the-point-of-this-package?-1"></a><a class="docs-heading-anchor-permalink" href="#What-is-the-point-of-this-package?" title="Permalink"></a></h3><ul><li>The main point is to demonstrate the relative easiness with which we can tackle an MPEC problem with the <a href="https://jump.dev"><code>JuMP.jl</code></a> package.</li><li>JuMP is like AMPL, but for free and embedded in a proper programming language. </li><li>For a similar, even more impressive demonstration of this please visit <a href="https://github.com/UBCECON567/BLPDemand.jl">https://github.com/UBCECON567/BLPDemand.jl</a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Zurcher.Harold" href="#Zurcher.Harold"><code>Zurcher.Harold</code></a> — <span class="docstring-category">Type</span></header><section><div><p><strong>Harold Zurcher DataType</strong></p><ul><li>This type represents an instance of Harold Zurcher, the decision maker in Rust (1987)</li><li>The default constructor builds <code>Harold</code> for the values in table X of the paper.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L44-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.bellman-Tuple{Zurcher.Harold, Vector{T} where T}" href="#Zurcher.bellman-Tuple{Zurcher.Harold, Vector{T} where T}"><code>Zurcher.bellman</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">bellman(h::Harold, ev0::Vector)</code></pre><p>Bellman Operator <code>T(EV)</code>. Notice the centering of the log sum function by <code>M</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L88-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.busdata-Tuple{Zurcher.Harold}" href="#Zurcher.busdata-Tuple{Zurcher.Harold}"><code>Zurcher.busdata</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">busdata(z::Harold; bustype = 4)</code></pre><p>Data Loader.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L328-L332">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.ccp-Tuple{Zurcher.Harold, Vector{T} where T}" href="#Zurcher.ccp-Tuple{Zurcher.Harold, Vector{T} where T}"><code>Zurcher.ccp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ccp(h::Harold, ev0::Vector)</code></pre><p>Conditional Choice Probability function returning the proability of replacing the engine at a given mileage state <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.dataplots-Tuple{}" href="#Zurcher.dataplots-Tuple{}"><code>Zurcher.dataplots</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">dataplots()</code></pre><p>return a dict of plots and tables from the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L195-L199">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.loglikelihood-Tuple{Any, Any, BitArray, Vector{Int64}, Vector{Int64}}" href="#Zurcher.loglikelihood-Tuple{Any, Any, BitArray, Vector{Int64}, Vector{Int64}}"><code>Zurcher.loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><p>log likelihood function</p><p class="math-container">\[l_n(\theta,EV_\theta) = \log \mathcal{L}_n(\theta,EV_\theta) = \sum_{i=1}^{162}\sum_{t=2}^{T_i} \left( \log P(d_{i,t}|x_{i,t}) + \log \pi(x_{i,t}|x_{i,t-1},d_{i,t-1}) \right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L268-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.make_trans-Tuple{Any, Any}" href="#Zurcher.make_trans-Tuple{Any, Any}"><code>Zurcher.make_trans</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">make_trans(θ, n)</code></pre><p>Build a transition matrix of mileage states for <code>n</code> mileage bins and a vector θ of probabilities      to move to each possible bin (or to stay in the same bin).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L17-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.mpec-Tuple{}" href="#Zurcher.mpec-Tuple{}"><code>Zurcher.mpec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">mpec(; β = 0.9, is_silent = false, doθ = false,n = 175, θ = [0.107, 0.5152 ,0.3622, 0.0143,0.0009])</code></pre><p>MPEC estimation. Can choose to do partial MLE (don&#39;t estimate the θs for mileage transition).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L394-L398">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.nested_likelihood-Tuple{Vector{Float64}, Zurcher.Harold, DataFrames.DataFrame}" href="#Zurcher.nested_likelihood-Tuple{Vector{Float64}, Zurcher.Harold, DataFrames.DataFrame}"><code>Zurcher.nested_likelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">nested_likelihood(x::Vector{Float64}, h::Harold, d::DataFrame)</code></pre><p>Outer loop of NFXP proceedure. takes candidate vector <code>x</code> of parameters, solves model, and evaluates the log likelihood.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L305-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.nfxp-Tuple{}" href="#Zurcher.nfxp-Tuple{}"><code>Zurcher.nfxp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">nfxp(; β = 0.9, is_silent = false, doθ = false,n = 175, θ = [0.107, 0.5152 ,0.3622, 0.0143,0.0009])</code></pre><p>Nested Fixed Point estimation. Can choose to do partial MLE (don&#39;t estimate the θs for mileage transition).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L363-L367">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.plotit-Tuple{}" href="#Zurcher.plotit-Tuple{}"><code>Zurcher.plotit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">plotit(;n=90, β=0.9)</code></pre><p>Test plot.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L149-L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.runit-Tuple{}" href="#Zurcher.runit-Tuple{}"><code>Zurcher.runit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">runit(;n=90, β=0.9999,c=2.4, θ=[0.3, 0.68, 0.02])</code></pre><p>Test run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L137-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.simit-Tuple{}" href="#Zurcher.simit-Tuple{}"><code>Zurcher.simit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">simit(; T=500,n=500, θ=[0.3,0.6,0.1])</code></pre><p>Simulate one bus.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Zurcher.vfi-Tuple{Zurcher.Harold}" href="#Zurcher.vfi-Tuple{Zurcher.Harold}"><code>Zurcher.vfi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">vfi(h::Harold)</code></pre><p>Value Function Iterator. Will iterate on <a href="#Zurcher.bellman-Tuple{Zurcher.Harold, Vector{T} where T}"><code>bellman</code></a> until the absolute norm is less than value <code>h.tol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/floswald/Zurcher.jl/blob/d9fd2573d26a41fbf162569f27a86f439e036a1a/src/Zurcher.jl#L115-L119">source</a></section></article><p>end</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 15 April 2021 15:04">Thursday 15 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
